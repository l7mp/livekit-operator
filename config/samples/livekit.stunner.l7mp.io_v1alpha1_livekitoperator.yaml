apiVersion: livekit.stunner.l7mp.io.l7mp.io/v1alpha1
kind: LiveKitOperator
metadata:
    #copy crd's annotations to final deployment
  labels:
    app.kubernetes.io/name: livekitoperator
    app.kubernetes.io/instance: livekitoperator-sample
    app.kubernetes.io/part-of: livekit-operator
    app.kubernetes.io/managed-by: kustomize
    app.kubernetes.io/created-by: livekit-operator
  name: livekitoperator-sample
spec:
  components:
    mediaServer:
      type: livekit
      deployment:
        replicas: 2 #opt
        # crd's namespace = deployment namespace
        namespace: dummy
        # container template
        container:
          image:
            repository: dummmy-repo
            image: dummy-image
            tag: dummy-tag
            pullPolicy: IfNotPresent
          args: # TODO
          command: # TODO
          env: # TODO
          terminationGracePeriod: 3600
          affinity: # TODO

          resources:
            limits:
              cpu: 2
              memory: 512Mi
            requests:
              cpu: 500m
              memory: 128Mi
          config:
            key1: value1
            key2:
              key21: value1

      service:
        namespace: dummy
        type: LoadBalancer
        ports:
          - port: 1
            protocol: TCP
          - port: 2
            protocol: TCP






    scaling:
      #TODO
    ingress:
      #TODO
    egress:
      #TODO
    certManager:
      #TODO
    monitoring:
      #TODO